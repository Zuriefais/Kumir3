> Рисователь \-- исполнитель системы Кумир. Назначение Рисователя \--
> создавать рисунки на листе. Как и другие исполнители, он имеет систему
> команд, свою \"обстановку\" \-- лист, на котором можно рисовать, и
> окно, в котором виден лист.
>
> Исполнитель разработан по инициативе д. т. н. проф. К. Ю. Полякова,
> спецификация исполнителя создана совместно группой разработки Кумир и
> К. Ю.  Поляковым.

# Использование исполнителя {#общие сведения}

Исполнитель \"Рисователь\" входит в Вашу поставку Кумир, но его функции
не являются частью языка программирования. Для его использования
необходимо в программе явно указать использование данного исполнителя:

    использовать Рисователь
    | теперь функции рисователя доступны
    | для использования в программе

                

    import painter
    # функции доступны в виде 'painter.имя_функции'

    from painter import *
    # функции доступны в глобальном пространстве имен

                

# Тип величины \"цвет\" {#тип цвет}

В исполнителе реализован новый тип величин \--`цвет`. Значение величины
типа `цвет` может быть получено:

- использованием одного из алгоритмов составления цвета из отдельных
  компонент;

- присваиванием величине одного из значений:
  `прозрачный`,`белый`,`чёрный`, `серый`,`фиолетовый`,`синий`,
  `голубой`,`зелёный`,`жёлтый`, `оранжевый`,`красный`.

  Значение типа `цвет` записывается без кавычек, вместо буквы `ё` можно
  использовать букву`е`.

:::: example
::: title
Рисователь рисует радугу
:::

    использовать Рисователь
    алг радуга
    нач
      новый лист(400, 200, белый)
      кисть(красный)
      окружность(200, 200, 200)
      кисть(оранжевый)
      окружность(200, 200, 175)
      кисть(желтый)
      окружность(200, 200, 150)
      кисть(зелёный)
      окружность(200, 200, 125)
      кисть(голубой)
      окружность(200, 200, 100)
      кисть(синий)
      окружность(200, 200, 75)
      кисть(фиолетовый)
      окружность(200, 200, 50)
      кисть(белый)
      окружность(200, 200, 25)
    кон

                
::::

# Представление значения типа \"цвет\" {#класс Color}

В исполнителе для представления цвета используется класс `Color`.
Значение величины типа `Color` может быть получено использованием одного
из алгоритмов составления цвета из отдельных компонент.

# Алгоритмы для работы с цветом {#Алгоритмы для работы с цветом}

## CMYK {#CMYK}

Рисователь

алг

цвет

CMYK

цел

c

цел

m

цел

y

цел

k

painter

def

CMYK

c

m

y

k

Возвращает величину типа `цвет` `Color`, составленную из компонент
цветовой модели CMYK:

- `c` \-- величина бирюзовой составляющей цвета;

- `m` \-- величина пурпурной составляющей цвета;

- `y` \-- величина желтой составляющей цвета;

- `k` \-- величина черной составляющей цвета.

Все значения состовляющих должны быть от `0` до`255`.

Цветовая модель CMYK основана на аддитивном смешиванием трех красок: чем
выше значение отдельных компонент, тем темнее получается цвет.

Как правило, при смешивании трех основных цветов \-- бирюзового (`c`),
пурпурного (`m`) и желтого (`y`), не удается получить настоящий темный
цвет. Поэтому к трем основным цветам добавлен черный (`k`).

![Цветовая модель CMYK](ActorPainter/CMYK_model.svg)

## RGB {#RGB}

Рисователь

алг

цвет

RGB

цел

r

цел

g

цел

b

Возвращает величину типа`цвет`, составленную из компонент цветовой
модели RGB:

- `r` \-- величина красной составляющей цвета;

- `g` \-- величина зеленой составляющей цвета;

- `b` \-- величина синей составляющей цвета.

Все значения состовляющих должны быть от `0` до`255`.

Цветовая модель RGB основана на субтрактивном смешиванием трех красок:
чем выше значение отдельных компонент, тем светлее получается цвет.

![Цветовая модель RGB](ActorPainter/RGB_model.svg)

## HSL {#HSL}

Рисователь

алг

цвет

HSL

цел

h

цел

s

цел

l

Возвращает величину типа`цвет`, составленную из компонент цветовой
модели HSL:

- `h` \-- тон цвета (значения в градусах от `0` до `359`);

- `s` \-- значение насыщенности цвета (от `0` до `255`);

- `s` \-- значение интенсивности цвета (от `0` до `255`).

## HSV {#HSV}

Рисователь

алг

цвет

HSV

цел

h

цел

s

цел

v

Возвращает величину типа`цвет`, составленную из компонент цветовой
модели HSV:

- `h` \-- тон цвета (значения в градусах от `0` до `359`);

- `s` \-- значение насыщенности цвета (от `0` до `255`);

- `v` \-- значение яркости цвета (от `0` до `255`).

## CMYKA {#CMYKA}

Рисователь

алг

цвет

CMYKA

цел

c

цел

m

цел

y

цел

k

цел

a

Возвращает величину типа`цвет`, составленную из компонент цветовой
модели CMYK и значения альфа-канала:

- `c` \-- величина бирюзовой составляющей цвета;

- `m` \-- величина пурпурной составляющей цвета;

- `y` \-- величина желтой составляющей цвета;

- `k` \-- величина черной составляющей цвета;

- `a` \-- значение непрозрачности цвета (α-значение).

Все значения состовляющих должны быть от `0` до`255`.

## RGBA {#RGBA}

Рисователь

алг

цвет

RGBA

цел

r

цел

g

цел

b

цел

a

Возвращает величину типа`цвет`, составленную из компонент цветовой
модели RGB и значения альфа-канала:

- `r` \-- величина красной составляющей цвета;

- `g` \-- величина зеленой составляющей цвета;

- `b` \-- величина синей составляющей цвета;

- `a` \-- значение непрозрачности цвета (α-значение).

Все значения состовляющих должны быть от `0` до`255`.

## HSLA {#HSLA}

Рисователь

алг

цвет

HSLA

цел

h

цел

s

цел

l

цел

a

Возвращает величину типа`цвет`, составленную из компонент цветовой
модели HSL и значения альфа-канала:

- `h` \-- тон цвета (значения в градусах от `0` до `359`);

- `s` \-- значение насыщенности цвета (от `0` до `255`);

- `l` \-- значение интенсивности цвета (от `0` до `255`);

- `a` \-- значение непрозрачности цвета (α-значение, от `0` до`255`).

## HSVA {#HSVA}

Рисователь

алг

цвет

HSVA

цел

h

цел

s

цел

v

цел

a

Возвращает величину типа`цвет`, составленную из компонент цветовой
модели HSL и значения альфа-канала:

- `h` \-- тон цвета (значения в градусах от `0` до `359`);

- `s` \-- значение насыщенности цвета (от `0` до `255`);

- `v` \-- значение яркости цвета (от `0` до `255`);

- `a` \-- значение непрозрачности цвета (α-значение, от `0` до`255`).

## разложить в CMYK {#разложить в CMYK}

Рисователь

алг

CMYK

цвет

цв

аргрез цел

c

аргрез цел

m

аргрез цел

y

аргрез цел

k

Позволяет получить значения параметров модели CMYK для анализируемого
цвета.

- `цв` \-- анализируемый цвет;

- `c` \-- величина бирюзовой составляющей цвета;

- `m` \-- величина пурпурной составляющей цвета;

- `y` \-- величина желтой составляющей цвета;

- `k` \-- величина черной составляющей цвета.

Все значения состовляющих должны быть от `0` до`255`.

## разложить в RGB {#разложить в RGB}

Рисователь

алг

RGB

цвет

цв

аргрез цел

r

аргрез цел

g

аргрез цел

b

Позволяет получить значения параметров модели RGB для анализируемого
цвета.

- `цв` \-- анализируемый цвет;

- `r` \-- величина красной составляющей цвета;

- `g` \-- величина зеленой составляющей цвета;

- `b` \-- величина синей составляющей цвета.

Все значения состовляющих должны быть от `0` до`255`.

:::: example
::: title
Разложение в RGB
:::

    использовать Рисователь
    алг
    нач
      цвет цв = фиолетовый
      цел r, g, b
      разложить в RGB(цв, r, g, b)
      вывод r, нс, g, нс, b
    кон

                    
::::

## разложить в HSL {#разложить в HSL}

Рисователь

алг

HSL

цвет

цв

аргрез цел

h

аргрез цел

s

аргрез цел

l

Позволяет получить значения параметров модели HSL для анализируемого
цвета.

- `цв` \-- анализируемый цвет;

- `h` \-- тон цвета (значения в градусах от `0` до `359`);

- `s` \-- значение насыщенности цвета (от `0` до `255`);

- `l` \-- значение интенсивности цвета (от `0` до `255`).

## разложить в HSV {#разложить в HSV}

Рисователь

алг

HSV

цвет

цв

аргрез цел

h

аргрез цел

s

аргрез цел

v

Позволяет получить значения параметров модели HSL для анализируемого
цвета.

- `цв` \-- анализируемый цвет;

- `h` \-- тон цвета (значения в градусах от `0` до `359`);

- `s` \-- значение насыщенности цвета (от `0` до `255`);

- `v` \-- значение яркости цвета (от `0` до `255`).

# Информационные алгоритмы {#Информационные алгоритмы}

Алгоритмы этой группы позволяют определить размеры листа и текстовой
надписи (в пикселях).

Вызов одного из этих алгоритмов не меняет состояние рисователя.

## высота листа {#высота листа}

Рисователь

алг

цел

высота листа

Возвращает высоту листа.

## ширина листа {#ширина листа}

Рисователь

алг

цел

ширина листа

Возвращает ширину листа.

## центр x {#центр x}

Рисователь

алг

цел

центр x

Возвращает координату середины листа по горизонтали (ширине).

## центр y {#центр y}

Рисователь

алг

цел

центр y

Возвращает координату середины листа по вертикали (высоте).

## ширина текста {#ширина текста}

Рисователь

алг

цел

ширина текста

лит

текст

Возвращает ширину текста в пикселях при заданном шрифте.

- `текст` \-- измеряемый текст.

## значение в точке {#значение в точке}

Рисователь

алг цвет

значение в точке

цел

x

цел

y

Возвращает значение цвета в точке с заданными координатами.

- `x` \-- координата точки по горизонтали;

- `y` \-- координата точки по вертикали.

# Установка параметров рисования {#Установка параметров рисования}

Эти команды нужны для задания параметров рисования линии (толщина,
цвет), закрашивания (цвет), рисования текстовых надписей (гарнитура,
размер символов, использование жирных или курсивных букв). Эти параметры
используются в ко- мандах рисования.

Толщина линий задается в пикселях. Гарнитуры задаются литеральными
величинами, список допустимых гарнитур определяется таковым списком в
операционной системе.

## перо

Рисователь

алг

перо

цел

толщина

цвет

окраска контура

Устанавливает параметры контура.

- `толщина` \-- толщина линии. Изначально равна`1`. При толщине `0`
  линия не рисуется, но заливка внутренней области фигуры производится.

- `окраска контура` \-- цвет линии вокруг рисуемой фигуры.

## кисть

Рисователь

алг

кисть

цвет

заливка

Устанавливает цвет заливки.

- `заливка` \-- цвет заливки. Изначально `прозрачный` (рисование только
  контуров).

## убрать кисть {#убрать кисть}

Рисователь

алг

убрать кисть

Отключает кисть. Вся дальнейшая работа с Рисователем будет происходить
без заливки. Чтобы снова начать использовать кисть, нужно выполнить
`кисть`.

:::: example
::: title
:::

    использовать Рисователь
    алг
    нач
      цвет залив = красный
      кисть(залив)
      окружность(0,0,50)
      убрать кисть
      окружность(0,0,100)
    кон

                    
::::

## плотность

Рисователь

алг

плотность

цел

значение

Устанавливает плотность заливки. Параметр `значение` должен принадлежать
промежутку `[0; 8]`.

## шрифт

Рисователь

алг

шрифт

лит

гарнитура

цел

размер

лог

жирный

лог

курсив

Устанавливает параметры шрифта, которые используются алгоритмами
`надпись` и `ширина текста`. Изначальные параметры шрифта соответствуют
таковым в настройках операционной системы.

- `гарнитура` \-- гарнитура шрифта (Arial, Times New Roman и т.д.);

- `размер` \-- размер шрифта, который определяется как количество
  пикселей от базовой линии до верхней границы заглавных букв;

- `жирный` \-- признак использования жирного начертания шрифта;

- `курсив` \-- признак использования курсивного начертания шрифта.

# Алгоритмы рисования на листе {#Алгоритмы рисования на листе}

Линии и надписи выполняются пером (его толщина и цвет устанавливаются в
команде `перо`). Для пера определено текущее положение, которое
устанавливается в команде `в точку`. Начальное положение \-- (`0`, `0`).
Если точка, которую нужно отметить, находится вне листа \-- никаких
действий не производится.

## в точку {#в точку}

Рисователь

алг

в точку

цел

x

цел

y

Перемещает перо рисователя в точку, ничего при этом не рисуя.

- `x` \-- координата целевой точки по горизонтали;

- `y` \-- координата целевой точки по вертикали.

## линия

Рисователь

алг

линия

цел

x1

цел

y1

цел

x2

цел

y2

Рисует отрезок.

- `(x1,y1)` \-- координаты начала отрезка;

- `(x2,y2)` \-- координаты конца отрезка.

## линия в точку {#линия в точку}

Рисователь

алг

линия в точку

цел

x

цел

y

Перемещает перо рисователя в точку, рисуя при этом прямую линию.

- `x` \-- координата целевой точки по горизонтали;

- `y` \-- координата целевой точки по вертикали.

## многоугольник

Рисователь

алг

многоугольник

цел

n

целтаб

xx

целтаб

yy

Рисует многоугольник.

- `n` \-- количество вершин многоугольника;

- `xx` \-- массив абсцисс вершин;

- `yy` \-- массив ординат вершин.

Каждая вершина с номером `i` имеет координаты `(xx[i], yy[i])`. Размеры
обоих массивов координат должен совпадать с количеством вершин `n`.

## пиксель

Рисователь

алг

пиксель

цел

x

цел

y

цвет

значение

Рисует ровно одну точку размером в один пиксель.

- `x` \-- координата точки по горизонтали;

- `y` \-- координата точки по вертикали;

- `значение` \-- значение цвета точки.

## прямоугольник

Рисователь

алг

прямоугольник

цел

x1

цел

y1

цел

x2

цел

y2

Рисует прямоугольник.

- `x1` \-- координата левой границы прямоугольника;

- `y1` \-- координата верхней границы прямоугольника;

- `x2` \-- координата правой границы прямоугольника;

- `y2` \-- координата нижней границы прямоугольника.

## эллипс

Рисователь

алг

эллипс

цел

x1

цел

y1

цел

x2

цел

y2

Рисует эллипс.

- `x1` \-- координата левой границы прямоугольника, в который вписан
  эллипс;

- `y1` \-- координата верхней границы прямоугольника, в который вписан
  эллипс;

- `x2` \-- координата правой границы прямоугольника, в который вписан
  эллипс;

- `y2` \-- координата нижней границы прямоугольника, в который вписан
  эллипс.

## окружность

Рисователь

алг

окружность

цел

xc

цел

yc

цел

r

Рисует окружность.

- `xc` \-- координата центра окружности по горизонтали;

- `yc` \-- координата центра окружности по вертикали;

- `r` \-- радиус окружности.

## надпись

Рисователь

алг

надпись

цел

x

цел

y

лит

текст

Рисует надпись.

- `x` \-- координата левой границы прямоугольника, в который вписана
  надпись;

- `y` \-- координата верхней границы прямоугольника, в который вписана
  надпись;

- `текст` \-- текст надписи.

## залить

Рисователь

алг

залить

цел

x

цел

y

Заливает связанную область вокруг точки одним цветом. Область вокруг
точки \-- это связное множество соседних точек и их соседей, которые
имеют тот же цвет, что и исходная точка и включают саму точку. Связность
понимается только по вертикали и горизонтали.

- `x` \-- координата исходной точки по горизонтали;

- `y` \-- координата исходной точки по вертикали.

# Алгоритмы работы с листами {#Алгоритмы работы с листами}

## новый лист {#новый лист}

Рисователь

алг

новый лист

цел

ширина

цел

высота

цвет

фон

Создает новый лист для рисования.

- `ширина` \-- ширина нового листа в пикселях;

- `высота` \-- высота нового листа в пикселях;

- `фон` \-- цвет фона нового листа.

## загрузить лист {#загрузить лист}

Рисователь

алг

загрузить лист

лит

имя файла

Создает новый лист для рисования, используя в качестве фона внешний
графический файл в формате PNG.

- `имя файла` \-- имя файла с изображением.

## сохранить лист {#сохранить лист}

Рисователь

алг

сохранить лист

лит

имя файла

Сохраняет полученный на листе результат во внешний графический файл в
формате PNG.

- `имя файла` \-- имя файла с изображением.
