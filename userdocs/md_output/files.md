## Алгоритмы работы с файлами

## Алгоритмы работы с файлами

### открыть на чтение

### открыть на чтение

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг файл `открыть на чтение`(лит имя файла)**

алг файл
открыть на чтение
лит
имя файла
Открывает текстовый файл с именем`имя файла`для чтения.

имя файла
для чтения.

Имя файла может быть как абсолютным, так и относительным, -- в этом случае поиск файла
            осуществяется относительно рабочего каталога.

Если файл не существует, или отсутствуют права на чтение файла, то возникает ошибка выполнения.

Если файл ранее уже был открыт, то возникает ошибка выполнения.

### открыть на запись

### открыть на запись

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг файл `открыть на запись`(лит имя файла)**

алг файл
открыть на запись
лит
имя файла
Открывает текстовый файл с именем`имя файла`для записи.

имя файла
для записи.

Имя файла может быть как абсолютным, так и относительным, -- в этом случае поиск файла
            осуществяется относительно рабочего каталога.

Если файл не существует, то он будет создан, иначе -- содержимое существующего файла будет очищено.

Если отсутствуют права на создание нового файла или перезапись существующего файла, то возникает ошибка выполнения.

Если файл ранее уже был открыт, то возникает ошибка выполнения.

### открыть на добавление

### открыть на добавление

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг файл `открыть на добавление`(лит имя файла)**

алг файл
открыть на добавление
лит
имя файла
Открывает текстовый файл с именем`имя файла`для записи.

имя файла
для записи.

Имя файла может быть как абсолютным, так и относительным, -- в этом случае поиск файла
            осуществяется относительно рабочего каталога.

Если файл не существует, то он будет создан, иначе -- содержимое существующего файла останется неизменным,
            а новые данные будут дописаны в конец.

Если отсутствуют права на создание нового файла или перезапись существующего файла, то возникает ошибка выполнения.

Если файл ранее уже был открыт, то возникает ошибка выполнения.

### закрыть

### закрыть

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг `закрыть`(файл имя файла)**

алг
закрыть
файл
имя файла
Закрывает ранее открытый для чтения или записи текстовый файл`имя файла`.

имя файла
.

После закрытия файл становится доступным для повторного открытия.

Все файлы должны быть закрыты до окончания работы программы, иначе возникнет ошибка выполнения при
            завершении выполнения программы.

### начать чтение

### начать чтение

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг `начать чтение`(файл имя файла)**

алг
начать чтение
файл
имя файла
Сбрасывает указатель чтения файла`имя файла`на его начало.

имя файла
на его начало.

### конец файла

### конец файла

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лог `конец файла`(файл имя файла)**

алг лог
конец файла
файл
имя файла
Возвращает`да`, если указатель находится в самом конце файла и
        чтение из него невозможно.

`да, если указатель находится в самом конце файла и
        чтение из него невозможно.`
, если указатель находится в самом конце файла и
        чтение из него невозможно.

### есть данные

### есть данные

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лог `есть данные`(файл имя файла)**

алг лог
есть данные
файл
имя файла
Возвращает`да`, если после текущей позиции чтения в файле`имя файла`есть хотя бы один видимый символ.

`да, если после текущей позиции чтения в файле`
, если после текущей позиции чтения в файле

имя файла
есть хотя бы один видимый символ.

Если алгоритм`есть данные`возвращает значение`нет`, а указатель не находится в конце файла (то есть
            алгоритм`конец файла`также возвращает`нет`), то из файла возможно чтение только символа или строки.

есть данные
возвращает значение

`нет, а указатель не находится в конце файла (то есть
            алгоритм`
, а указатель не находится в конце файла (то есть
            алгоритм

конец файла
также возвращает

`нет), то из файла возможно чтение только символа или строки.`
), то из файла возможно чтение только символа или строки.

### установить кодировку

### установить кодировку

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг `установить кодировку`(лит имя кодировки)**

алг
установить кодировку
лит
имя кодировки
Устанавливает кодировку текстовых файлов, которые будут открыты на чтение или запись
            после вызова данного алгоритма.

Допустимые имена кодировок:`"CP-1251"``"Windows-1251"``"Windows"``"CP-866"``"IBM-866"``"DOS"``"KOI8-R"``"KOI8"``"КОИ8"``"КОИ8-Р"``"UTF-8"``"UTF"``"Linux"`


- `"CP-1251"``"Windows-1251"``"Windows"`

`"CP-1251"`или`"Windows-1251"`или`"Windows"`-- однобайтная
                        кодировка текста, используемая
                        в системе семейства Windows для кириллических символов;

`"CP-1251" или`
или

`"Windows-1251" или`
или

`"Windows"-- однобайтная
                        кодировка текста, используемая
                        в системе семейства Windows для кириллических символов;`
-- однобайтная
                        кодировка текста, используемая
                        в системе семейства Windows для кириллических символов;

- `"CP-866"``"IBM-866"``"DOS"`

`"CP-866"`или`"IBM-866"`или`"DOS"`-- однобайтная кодировка
                        текста, используемая в консольных программах системы семейства Windows для
                        кириллических символов;

`"CP-866" или`
или

`"IBM-866" или`
или

`"DOS"-- однобайтная кодировка
                        текста, используемая в консольных программах системы семейства Windows для
                        кириллических символов;`
-- однобайтная кодировка
                        текста, используемая в консольных программах системы семейства Windows для
                        кириллических символов;

- `"KOI8-R"``"KOI8"``"КОИ8"``"КОИ8-Р"`

`"KOI8-R"`или`"KOI8"`или`"КОИ8"`или`"КОИ8-Р"`--
                        однобайтная кодировка текста КОИ-8, используемая в старых системах семейства UNIX;

`"KOI8-R" или`
или

`"KOI8" или`
или

`"КОИ8" или`
или

`"КОИ8-Р"--
                        однобайтная кодировка текста КОИ-8, используемая в старых системах семейства UNIX;`
--
                        однобайтная кодировка текста КОИ-8, используемая в старых системах семейства UNIX;

- `"UTF-8"``"UTF"``"Linux"`

`"UTF-8"`или`"UTF"`или`"Linux"`-- кодировка
                        текста с переменным количеством байт на символ, используемая в современных системах
                        семейства UNIX (включая MacOSX и Linux).

`"UTF-8" или`
или

`"UTF" или`
или

`"Linux"-- кодировка
                        текста с переменным количеством байт на символ, используемая в современных системах
                        семейства UNIX (включая MacOSX и Linux).`
-- кодировка
                        текста с переменным количеством байт на символ, используемая в современных системах
                        семейства UNIX (включая MacOSX и Linux).

Допускаются имена кодировок в любом регистре и с пропущенным символом`'-'`(дефис) в имени.

`'-' (дефис) в имени.`
(дефис) в имени.

Неверное имя кодировки приводит к ошибке выполнения.

### можно открыть на чтение

### можно открыть на чтение

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лог `можно открыть на чтение`(лит имя файла)**

алг лог
можно открыть на чтение
лит
имя файла
Возвращает`да`, если выполняются условия:файл с указанным именем существует;права доступа к файлу достаточны для его чтения.

`да, если выполняются условия:`
, если выполняются условия:


- файл с указанным именем существует;

файл с указанным именем существует;

- права доступа к файлу достаточны для его чтения.

права доступа к файлу достаточны для его чтения.

Вызов этого алгоритма не приводит к ошибке выполнения.

### можно открыть на запись

### можно открыть на запись

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лог `можно открыть на запись`(лит имя файла)**

алг лог
можно открыть на запись
лит
имя файла
Возвращает`да`, если выполняются условия:файл с указанным именем существует;права доступа к файлу достаточны для его записи.

`да, если выполняются условия:`
, если выполняются условия:


- файл с указанным именем существует;

файл с указанным именем существует;

- права доступа к файлу достаточны для его записи.

права доступа к файлу достаточны для его записи.

Вызов этого алгоритма не приводит к ошибке выполнения.

### существует

### существует

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лог `существует`(лит имя)**

алг лог
существует
лит
имя
Возвращает`да`, если с заданным именем существует файл или каталог.

`да, если с заданным именем существует файл или каталог.`
, если с заданным именем существует файл или каталог.

### является каталогом

### является каталогом

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лог `является каталогом`(лит имя)**

алг лог
является каталогом
лит
имя
Возвращает`да`, существует каталог с заданным именем.

`да, существует каталог с заданным именем.`
, существует каталог с заданным именем.

### создать каталог

### создать каталог

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лог `создать каталог`(лит имя каталога)**

алг лог
создать каталог
лит
имя каталога
Имя каталога может быть как абсолютным, так и относительным, -- в этом случае каталог создается
            относительно рабочего каталога.

Алгоритм возвращает`да`, если каталог был успешно создан.

`да, если каталог был успешно создан.`
, если каталог был успешно создан.

### удалить_файл

### удалить_файл

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лог `удалить_файл`(лит имя файла)**

алг лог
удалить_файл
лит
имя файла
Удаляет файл с заданным именем без возможности восстановления.

Имя файла может быть как абсолютным, так и относительным, -- в этом случае поиск файла
            осуществляется относительно рабочего каталога.

Алгоритм возвращает`да`, если файл был успешно удален.

`да, если файл был успешно удален.`
, если файл был успешно удален.

Внимание:имя алгоритма содержит символ подчеркивания вместо пробела.имя алгоритма содержит символ подчеркивания вместо пробела.

Внимание: имя алгоритма содержит символ подчеркивания вместо пробела.
имя алгоритма содержит символ подчеркивания вместо пробела.

Предупреждение:будьте осторожны в применении этого алгоритма!будьте осторожны в применении этого алгоритма!

Предупреждение: будьте осторожны в применении этого алгоритма!
будьте осторожны в применении этого алгоритма!

### удалить_каталог

### удалить_каталог

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лог `удалить_каталог`(лит имя каталога)**

алг лог
удалить_каталог
лит
имя каталога
Удаляет пустой каталог с заданным именем без возможности восстановления.

Имя каталога может быть как абсолютным, так и относительным, -- в этом случае каталог удаляется
            относительно рабочего каталога.

Алгоритм возвращает`да`, если каталог был успешно удален.

`да, если каталог был успешно удален.`
, если каталог был успешно удален.

Внимание:имя алгоритма содержит символ подчеркивания вместо пробела.имя алгоритма содержит символ подчеркивания вместо пробела.

Внимание: имя алгоритма содержит символ подчеркивания вместо пробела.
имя алгоритма содержит символ подчеркивания вместо пробела.

Предупреждение:будьте осторожны в применении этого алгоритма!будьте осторожны в применении этого алгоритма!

Предупреждение: будьте осторожны в применении этого алгоритма!
будьте осторожны в применении этого алгоритма!

### полный путь

### полный путь

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лит `полный путь`(лит имя)**

алг лит
полный путь
лит
имя
Возвращает полное (абсолютное) имя файла или каталога без проверки его существования.

### РАБОЧИЙ КАТАЛОГ

### РАБОЧИЙ КАТАЛОГ

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лит `РАБОЧИЙ КАТАЛОГ`()**

алг лит
РАБОЧИЙ КАТАЛОГ
Возвращает полное (абсолютное) имя текущего рабочего каталога.

- При запуске Кумир-программы из консоли, рабочим каталогом является тот, который был
            выбран в консоли до запуска.

При запуске Кумир-программы из консоли, рабочим каталогом является тот, который был
            выбран в консоли до запуска.

- При запуске Кумир-программы из среды Кумир, рабочий каталог определяется следующим образом:Если программа сохранена в файл, то рабочий каталог -- это каталог, в котором сохранена программа.Если программа не сохранена, то рабочий каталог -- это каталог, установленный соответствующим пунктом
                    менюПрограмма

При запуске Кумир-программы из среды Кумир, рабочий каталог определяется следующим образом:


- Если программа сохранена в файл, то рабочий каталог -- это каталог, в котором сохранена программа.

Если программа сохранена в файл, то рабочий каталог -- это каталог, в котором сохранена программа.

- Если программа не сохранена, то рабочий каталог -- это каталог, установленный соответствующим пунктом
                    менюПрограмма

Если программа не сохранена, то рабочий каталог -- это каталог, установленный соответствующим пунктом
                    менюПрограммаглавного окна.

Программа
главного окна.

### КАТАЛОГ ПРОГРАММЫ

### КАТАЛОГ ПРОГРАММЫ

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг лит `КАТАЛОГ ПРОГРАММЫ`()**

алг лит
КАТАЛОГ ПРОГРАММЫ
Возвращает полное (абсолютное) имя каталога, в котором находится выполняемая Кумир-программа.

Если программа не сохранена в файл, то возвращается значение`"./"`.

`"./".`
.

### НАЗНАЧИТЬ ВВОД

### НАЗНАЧИТЬ ВВОД

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг `НАЗНАЧИТЬ ВВОД`(лит имя файла)**

алг
НАЗНАЧИТЬ ВВОД
лит
имя файла

- Если`имя файла``ввод`

Если`имя файла`не пустое и файл доступен для чтения, то устанавливает его в качестве источника
				данных, используемых оператором`ввод`без явного указания файловой переменной.

имя файла
не пустое и файл доступен для чтения, то устанавливает его в качестве источника
				данных, используемых оператором

`ввод без явного указания файловой переменной.`
без явного указания файловой переменной.

- Если`имя файла``ввод`

Если`имя файла`-- пустая строка, то восстанавливает исходное поведение (ввод с клавиатуры)
				оператора`ввод`.

имя файла
-- пустая строка, то восстанавливает исходное поведение (ввод с клавиатуры)
				оператора

`ввод.`
.

- Если указанный файл не существует или не доступен для чтения, то возникает ошибка выполнения.

Если указанный файл не существует или не доступен для чтения, то возникает ошибка выполнения.

### НАЗНАЧИТЬ ВЫВОД

### НАЗНАЧИТЬ ВЫВОД

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг `НАЗНАЧИТЬ ВЫВОД`(лит имя файла)**

алг
НАЗНАЧИТЬ ВЫВОД
лит
имя файла

- Если`имя файла``вывод`

Если`имя файла`не пустое и файл доступен для записи, то устанавливает его в качестве приемника
				текста, используемого оператором`вывод`без явного указания файловой переменной.

имя файла
не пустое и файл доступен для записи, то устанавливает его в качестве приемника
				текста, используемого оператором

`вывод без явного указания файловой переменной.`
без явного указания файловой переменной.

- Если`имя файла``вывод`

Если`имя файла`-- пустая строка, то восстанавливает исходное поведение (вывод на экран)
				оператора`вывод`.

имя файла
-- пустая строка, то восстанавливает исходное поведение (вывод на экран)
				оператора

`вывод.`
.

- Если указанный файл не существует или не доступен для записи, то возникает ошибка выполнения.

Если указанный файл не существует или не доступен для записи, то возникает ошибка выполнения.

### консоль

### консоль

### Синтаксис (Кумир):

**Package:** Файлы

**Package:** Файлы

**алг файл `консоль`()**

алг файл
консоль
Возвращает псевдо-файл, связанный с терминалом, который обладает следующими свойствами:файл всегда открыт для чтения и записи;закрытие файла не требуется, а попытка закрытия приводит к ошибке выполнения;файл не имеет имени;запись в файл приводит к отображению текста на экран;чтение из файла приводит к запросу ввода с клавиатуры.


- файл всегда открыт для чтения и записи;

файл всегда открыт для чтения и записи;

- закрытие файла не требуется, а попытка закрытия приводит к ошибке выполнения;

закрытие файла не требуется, а попытка закрытия приводит к ошибке выполнения;

- файл не имеет имени;

файл не имеет имени;

запись в файл приводит к отображению текста на экран;

- чтение из файла приводит к запросу ввода с клавиатуры.

чтение из файла приводит к запросу ввода с клавиатуры.

Над полученным с помощью алгоритма`консоль`значением величины типа`файл`можно выполнять стандартные операции: присваивание другим величинам и проверку на равенство с другой величиной
            типа`файл`.

консоль
значением величины типа

`файл
            можно выполнять стандартные операции: присваивание другим величинам и проверку на равенство с другой величиной
            типа`
можно выполнять стандартные операции: присваивание другим величинам и проверку на равенство с другой величиной
            типа

`файл.`
.